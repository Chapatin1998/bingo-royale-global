<!DOCTYPE html>
<html lang="es">
<head><title>Iniciar SesiÃ³n</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="style.css"></head>
<body>
    <div class="video-background"><video autoplay loop muted playsinline><source src="fondo-video.mp4" type="video/mp4"></video></div>
    <audio id="background-music" loop><source src="music.mp3" type="audio/mpeg"></audio>
    <div class="main-container"><div class="content-wrapper">
        <a href="index.html"><img src="logo.png" alt="Logo" class="logo"></a>
        <h1>Iniciar SesiÃ³n</h1>
        <form id="login-form" class="form-container">
            <input type="email" name="email" placeholder="Correo" required>
            <div class="password-wrapper"><input type="password" id="password-field" name="password" placeholder="ContraseÃ±a" required><span class="toggle-password">ğŸ‘ï¸</span></div>
            <button type="submit" class="cta-button">Entrar</button>
        </form>
        <div class="form-footer"><p>Â¿No tienes cuenta? <a href="register.html">RegÃ­strate</a></p><p class="warning-text">âš ï¸ Juego para mayores de 18 aÃ±os.</p></div>
    </div></div>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
        const firebaseConfig = { /* ... Pega tu config de Firebase aquÃ­ ... */ };
        initializeApp(firebaseConfig);
        const auth = getAuth();
        
        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = e.target.email.value;
            const password = e.target.password.value;
            signInWithEmailAndPassword(auth, email, password)
            .then(() => window.location.href = 'lobby.html')
            .catch(error => alert(error.message));
        });
        
        // LÃ³gica del ojo de la contraseÃ±a
        document.querySelector('.toggle-password').addEventListener('click', function() {
            const passField = document.getElementById('password-field');
            passField.type = passField.type === 'password' ? 'text' : 'password';
            this.textContent = passField.type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
        });
        
        // LÃ³gica de la mÃºsica
        document.body.addEventListener('click', () => document.getElementById('background-music')?.play().catch(e=>{}), { once: true });
    </script>
</body>
</html>
